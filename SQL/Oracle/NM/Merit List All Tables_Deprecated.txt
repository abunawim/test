1. //Deprecated because only committee table has been created
CREATE TABLE NM_ADMITCOMMITTEE

(

  COMMITTEE_ID           VARCHAR2(16 BYTE),

  EMP_NO         VARCHAR2(16 BYTE),

  SESSION_ID        VARCHAR2(16 BYTE),

  REMARKS             VARCHAR2(500 BYTE),

  ACTIVE_FLAG         VARCHAR2(1 BYTE),

  ENTERED_BY          VARCHAR2(16 BYTE),

  ENTRY_TIMESTAMP     DATE,

  UPDATED_BY          VARCHAR2(16 BYTE),

  UPDATE_TIMESTAMP    DATE,

  COMPANY_NO          VARCHAR2(10 BYTE)         DEFAULT 1

);

/
 

ALTER TABLE NM_ADMITCOMMITTEE ADD (

  CONSTRAINT PK_NM_ADMITCOMMITTEE

  PRIMARY KEY  (COMMITTEE_ID));

/
 

CREATE OR REPLACE TRIGGER TRG_NM_ADMITCOMMITTEE

   BEFORE INSERT ON NM_ADMITCOMMITTEE  REFERENCING NEW AS NEW OLD AS OLD

   FOR EACH ROW

DECLARE

   V_COMMITTEE_ID   NM_ADMITCOMMITTEE.COMMITTEE_ID%TYPE;

BEGIN

   PRC_BUILD_PK ('', 'SEQ_NM_ADMITCOMMITTEE', 'C', NVL(:NEW.COMPANY_NO,'1'), V_COMMITTEE_ID,'Y');

   :NEW.COMMITTEE_ID := V_COMMITTEE_ID;

EXCEPTION

   WHEN OTHERS

   THEN

      NULL;

END;

/
 
2. 
CREATE TABLE NM_MERITLIST

(

  MERITLIST_ID           VARCHAR2(16 BYTE),

  APPLICATION_ID         VARCHAR2(16 BYTE),

  MERIT_TYPE         VARCHAR2(20 BYTE),

  MERIT_POINT       NUMBER,

  SESSION_ID        VARCHAR2(16 BYTE),

  REMARKS             VARCHAR2(500 BYTE),

  ACTIVE_FLAG         VARCHAR2(1 BYTE),

  ENTERED_BY          VARCHAR2(16 BYTE),

  ENTRY_TIMESTAMP     DATE,

  UPDATED_BY          VARCHAR2(16 BYTE),

  UPDATE_TIMESTAMP    DATE,

  COMPANY_NO          VARCHAR2(10 BYTE)         DEFAULT 1

);

/
 

ALTER TABLE NM_MERITLIST ADD (

  CONSTRAINT PK_NM_MERITLIST

  PRIMARY KEY  (MERITLIST_ID));

/


CREATE OR REPLACE TRIGGER TRG_NM_MERITLIST

   BEFORE INSERT ON NM_MERITLIST  REFERENCING NEW AS NEW OLD AS OLD

   FOR EACH ROW

DECLARE

   V_MERITLIST_ID   NM_MERITLIST.MERITLIST_ID%TYPE;

BEGIN

   PRC_BUILD_PK ('', 'SEQ_NM_MERITLIST', 'M', NVL(:NEW.COMPANY_NO,'1'), V_MERITLIST_ID,'Y');

   :NEW.MERITLIST_ID := V_MERITLIST_ID;

EXCEPTION

   WHEN OTHERS

   THEN

      NULL;

END;

/

 

