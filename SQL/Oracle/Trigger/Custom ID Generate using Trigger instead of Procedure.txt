CREATE OR REPLACE TRIGGER TRG_NM_APPLICATION
   BEFORE INSERT ON NM_APPLICATION
   REFERENCING NEW AS NEW OLD AS OLD
   FOR EACH ROW
DECLARE
   LOC_VAR NM_APPLICATION.APPLICATION_ID%TYPE;
BEGIN
   PRC_BUILD_PK ('', 'SEQ_NM_APPLICATION', 'R', NVL(:NEW.COMPANY_NO,'1'), LOC_VAR,'Y');
   :NEW.APPLICATION_ID := LOC_VAR;
EXCEPTION
   WHEN OTHERS
   THEN
      NULL;
END;
/


//v.02

CREATE OR REPLACE TRIGGER TRG_NM_APPLICATION
   BEFORE INSERT ON NM_APPLICATION
   REFERENCING NEW AS NEW OLD AS OLD
   FOR EACH ROW
DECLARE
   V_APPLICATION_ID NM_APPLICATION.APPLICATION_ID%TYPE;
BEGIN
   PRC_BUILD_PK ('', 'SEQ_NM_APPLICATION', 'R', NVL(:NEW.COMPANY_NO,'1'), V_APPLICATION_ID,'Y');
   if :NEW.APPLICATION_ID is null then 
   :NEW.APPLICATION_ID := V_APPLICATION_ID;
   end if;
EXCEPTION
   WHEN OTHERS
   THEN
      NULL;
END;
/



//v.03

















