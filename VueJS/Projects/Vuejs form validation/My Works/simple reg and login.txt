<style>
    body{
        background-image: url("http://cloud.defaultwallpaper.com/wp-content/uploads/2017/10/galaxy_tab-a-6-1.png");
        -webkit-background-size: cover;
        -moz-background-size: cover;
        -o-background-size: cover;
        background-size: cover;

    }
    .formdiv{
        background-image: url("https://hipertextual.com/files/2017/03/color-degradado-fondos-degradados-multicolor-51200-670x410.jpg");
    }
    span{
        color: red;
    }
</style>

<div class="middle-box loginscreen  animated fadeInDown">
    <br>
    <div id="app">
        <component :is='currentView' @change-compo-btn="changeComponent($event)"></component>
    </div>

    <template id="login-template">
        <div class="col-md-offset-4 col-md-4">
            <div class="panel panel-info formdiv">
                <div class="panel-heading">
                    <h3 class="panel-title">Login</h3>
                </div>
                <div class="panel-body">
                    <form action="<?php echo base_url()?>portal/applicantLogin" enctype="multipart/form-data" class="form-horizontal" method="post">
                        <div class="form-group">
                            <label class="control-label col-md-4" for="registrationNo">Registration No.</label>
                            <div class="col-md-8">
                                <input type="text" id="registrationNo" placeholder="Registration No." name="registrationNo" class="form-control" v-model='registrationNo'>
                                <span v-if='msg.registrationNo'>{{msg.registrationNo}}</span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-md-4" for="passwordLogin">Password</label>
                            <div class="col-md-8">
                                <input type="password" id="passwordLogin" placeholder="Password" name="passwordLogin" class="form-control" v-model='passwordLogin'>
                                <span v-if='msg.passwordLogin'>{{msg.passwordLogin}}</span>
                            </div>
                        </div>
                        <br>
                        <br>
                        <div class="form-group">
                            <div class="col-sm-offset-2 col-sm-10">
                                <input type="submit" value="Login" :disabled='disableSubmitButton' class="btn btn-success pull-left">
                                <a class="pull-right btn btn-warning btn-xs" @click='changeToSignup' href="#">Signup</a>
                            </div>

                        </div>
                    </form>
                </div>
            </div>
        </div>
    </template>

    <template id="signup-template">
        <div class="col-md-offset-4 col-md-4">
            <div class="panel panel-info formdiv">
                <div class="panel-heading">
                    <h3 class="panel-title">SignUp</h3>
                </div>
                <div class="panel-body">
                    <form action="<?php echo base_url()?>portal/onlineApplicantReg" enctype="multipart/form-data" class="form-horizontal" method="post">
                        <div class="form-group">
                            <label class="control-label col-md-4" for="full_name">Full Name</label>
                            <div class="col-md-8">
                                <input type="text" id="full_name" placeholder="Full Name" name="full_name" class="form-control" v-model='full_name'>
                                <span v-if='msg.full_name'>{{msg.full_name}}</span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-md-4" for="collegeCode">College Code</label>
                            <div class="col-md-8">
                                <input type="text" id="collegeCode" placeholder="College Code" name="collegeCode" class="form-control" v-model='collegeCode'>
                                <span v-if='msg.collegeCode'>{{msg.collegeCode}}</span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-md-4" for="registrationNo">Registration No.</label>
                            <div class="col-md-8">
                                <input type="text" id="registrationNo" placeholder="Registration No." name="registrationNo" class="form-control" v-model='registrationNo'>
                                <span v-if='msg.registrationNo'>{{msg.registrationNo}}</span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-md-4" for="rollNo">Roll No.</label>
                            <div class="col-md-8">
                                <input type="text" id="rollNo" placeholder="Roll No." name="rollNo" class="form-control" v-model='rollNo'>
                                <span v-if='msg.rollNo'>{{msg.rollNo}}</span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-md-4" for="passwordReg">Password</label>
                            <div class="col-md-8">
                                <input type="password" id="passwordReg" placeholder="Password" name="passwordReg" class="form-control" v-model='passwordReg'>
                                <span v-if='msg.passwordReg'>{{msg.passwordReg}}</span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-md-4" for="email">E-mail</label>
                            <div class="col-md-8">
                                <input type="text" id="email" placeholder="E-mail" name="email" class="form-control" v-model='email'>
                                <span v-if='msg.email'>{{msg.email}}</span>
                            </div>
                        </div>
                        <br>
                        <br>
                        <div class="form-group">
                            <div class="col-sm-offset-2 col-sm-10">
                                <input type="submit" value="Sign Up" :disabled='disableSubmitButton' class="btn btn-success pull-left">
                                <a class="pull-right btn btn-warning btn-xs" @click='changeToLogin' href="#">Back to Login</a>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </template>


</div>

<script type="text/javascript">


    //Start Vue

    //Login Component
    Vue.component('login',{

        template:'#login-template',

        data(){
            return {
                registrationNo:'',
                passwordLogin:'',
                msg:[],
                disableSubmitButton : true,
            }
        },

        watch:{
            registrationNo(value){
                this.check_registrationNo(value);
            },
            passwordLogin(value){
                this.check_passwordLogin(value);
            }
        },

        methods:{
            changeToSignup()
            {
                this.$emit('change-compo-btn','signup'); //signup is value and change-compo-btn is custom button
            },

            check_registrationNo(value)
            {
                if (value)
                {
                    this.msg['registrationNo'] = '';
                }
                else
                {
                    this.msg['registrationNo'] = 'Enter correct registration no.';
                }
            },

            check_passwordLogin(value)
            {
                if (value)
                {
                    this.msg['passwordLogin'] = '';
                }
                else
                {
                    this.msg['passwordLogin'] = 'Enter Password.';
                }
            },
            submit()
            {
                console.log('submited');
            }
        },
        updated()
        {
            if(this.passwordLogin && this.registrationNo)
            {
                this.disableSubmitButton = false;
            }
            else
                this.disableSubmitButton = true;
        }
    });

    //Signup Component
    Vue.component('signup',{
        template:'#signup-template',
        data(){
            return {
                full_name:'',
                collegeCode:'',
                registrationNo:'',
                rollNo:'',
                email:'',
                passwordReg:'',
                msg:[],
                disableSubmitButton : true,
            }
        },

        watch:{
            full_name(value){
                this.check_full_name(value);
            },
            collegeCode(value){
                this.check_collegeCode(value);
            },
            registrationNo(value){
                this.check_registrationNo(value);
            },
            passwordReg(value){
                this.check_passwordReg(value);
            },
            rollNo(value){
                this.check_rollNo(value);
            },
            email(value){
                this.check_email(value);
            }
        },

        methods:{
            changeToLogin()
            {
                this.$emit('change-compo-btn','login'); //signup is value and change-compo-btn is custom button
            },

            check_full_name(value)
            {
                if (value)
                {
                    this.msg['full_name'] = '';
                }else{
                    this.msg['full_name'] = 'Please enter your full name';
                }
            },

            check_collegeCode(value)
            {
                if (value)
                {
                    this.msg['collegeCode'] = '';
                }else{
                    this.msg['collegeCode'] = 'Please enter correct college code';
                }
            },

            check_registrationNo(value)
            {
                if (value)
                {
                    this.msg['registrationNo'] = '';
                }
                else
                {
                    this.msg['registrationNo'] = 'Please enter correct registration no.';
                }
            },

            check_rollNo(value)
            {
                if (value)
                {
                    this.msg['rollNo'] = '';
                }
                else
                {
                    this.msg['rollNo'] = 'Please enter correct roll no.';
                }
            },

            check_passwordReg(value)
            {
                if (value)
                {
                    this.msg['passwordReg'] = '';
                }
                else
                {
                    this.msg['passwordReg'] = 'Please enter password.';
                }
            },

            check_email(value)
            {
                if (/^\w+([\.-]?\ w+)*@\w+([\.-]?\ w+)*(\.\w{2,3})+$/.test(value))
                {
                    this.msg['email'] = '';
                }
                else
                {
                    this.msg['email'] = 'Please enter correct email.';
                }
            },

            submit()
            {
                console.log('submited');
            }
        },
        updated()
        {
            if(this.collegeCode && this.registrationNo && this.rollNo && this.passwordReg && this.email)
            {
                this.disableSubmitButton = false;
            }
            else
                this.disableSubmitButton = true;
        }
    });

    //View Main Template
    new Vue({
        el:'#app',
        data:{
            currentView:'login'
        },
        methods:{
            changeComponent(newComp){
                this.currentView = newComp;
            }
        }
    });
    //End Vue

</script>

